import{r as p,o as u,f,b as a,a as o,w as s,C as g,F as y,d as r,g as _,t as c}from"./app-tjDG2ux1.js";import{_ as m}from"./InputError-SFFwlirT.js";import{P as v}from"./PrimaryButton-BzACaKoH.js";import{g as h}from"./DeleteConfirmation-IhZr_-AD.js";const V=a("header",null,[a("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"},"School Information"),a("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Update your school information and email address. ")],-1),C={class:"mt-6 space-y-6"},$={class:"flex items-center gap-4"},k={key:0,class:"text-sm text-gray-600 dark:text-gray-400"},S={class:"text-red-500"},b={components:{DeleteConfirmation:h},data(){return{form:{name:this.$page.props.school.name,code:this.$page.props.school.code,email:this.$page.props.school.email},confirmation:{is_open:!1,id:"",route_name:"profile.update",params:"",method:"patch",title:"Warning",description:"Changing your email will log you out to ensure account security. Are you sure?"}}},methods:{handleSaveClick(){this.form.email&&this.form.email!==this.$page.props.auth.user.user_email&&this.form.email&&this.isEmailValid(this.form.email)?(this.confirmation.params=this.form,this.confirmation.is_open=!0):this.$inertia.patch(this.route("profile.update"),this.form)},isEmailValid(d){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d)}}},I=Object.assign(b,{__name:"UpdateProfileInformationForm",setup(d){return(e,t)=>{const l=p("Label"),n=p("Input");return u(),f(y,null,[a("section",null,[V,a("div",C,[a("div",null,[o(l,{for:"name"},{default:s(()=>[r("School Name")]),_:1}),o(n,{id:"name",type:"text",modelValue:e.form.name,"onUpdate:modelValue":t[0]||(t[0]=i=>e.form.name=i),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),o(m,{class:"mt-2",message:e.$page.props.errors.name},null,8,["message"])]),a("div",null,[o(l,{for:"code"},{default:s(()=>[r("School Code")]),_:1}),o(n,{id:"code",type:"text",modelValue:e.form.code,"onUpdate:modelValue":t[1]||(t[1]=i=>e.form.code=i),required:"",autofocus:"",autocomplete:"code",disabled:""},null,8,["modelValue"]),o(m,{class:"mt-2",message:e.$page.props.errors.code},null,8,["message"])]),a("div",null,[o(l,{for:"email"},{default:s(()=>[r("School Code")]),_:1}),o(n,{id:"email",type:"email",modelValue:e.form.email,"onUpdate:modelValue":t[2]||(t[2]=i=>e.form.email=i),required:"",autofocus:"",autocomplete:"email"},null,8,["modelValue"]),o(m,{class:"mt-2",message:e.$page.props.errors.email},null,8,["message"])]),a("div",$,[o(v,{disabled:e.form.processing,onClick:e.handleSaveClick},{default:s(()=>[r("Save")]),_:1},8,["disabled","onClick"]),o(g,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:s(()=>[e.form.recentlySuccessful?(u(),f("p",k,"Saved.")):_("",!0)]),_:1})])])]),o(h,{open:e.confirmation.is_open,onClose:t[3]||(t[3]=i=>e.confirmation.is_open=!1),routeName:e.confirmation.route_name,id:e.confirmation.id,method:e.confirmation.method,params:e.confirmation.params},{title:s(()=>[a("span",S,c(e.confirmation.title),1)]),description:s(()=>[r(c(e.confirmation.description),1)]),_:1},8,["open","routeName","id","method","params"])],64)}}});export{I as default};
