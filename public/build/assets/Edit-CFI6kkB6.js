import{_ as P}from"./AuthenticatedLayout-DfP7PIwA.js";import{o as d,f as _,b as c,C as q,c as p,w as s,j as f,D as N,E as M,u as t,G as R,h as w,a,H as K,S as L,I as v,J as h,K as E,n as B,L as F,$ as O,M as A,N as z,P as Z,g as H,d as r,r as k,F as S,Z as j,k as I,t as g}from"./app-CYDLOEjt.js";import{_ as b,a as Y,b as T,c as D,d as $,e as U,f as C,h as G}from"./moment-CjSGTqJO.js";import"./ApplicationLogo-e-CkfQRU.js";import"./CardContent-B9v-RSgU.js";function J(o,e){return d(),_("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[c("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1.84998 7.49998C1.84998 4.66458 4.05979 1.84998 7.49998 1.84998C10.2783 1.84998 11.6515 3.9064 12.2367 5H10.5C10.2239 5 10 5.22386 10 5.5C10 5.77614 10.2239 6 10.5 6H13.5C13.7761 6 14 5.77614 14 5.5V2.5C14 2.22386 13.7761 2 13.5 2C13.2239 2 13 2.22386 13 2.5V4.31318C12.2955 3.07126 10.6659 0.849976 7.49998 0.849976C3.43716 0.849976 0.849976 4.18537 0.849976 7.49998C0.849976 10.8146 3.43716 14.15 7.49998 14.15C9.44382 14.15 11.0622 13.3808 12.2145 12.2084C12.8315 11.5806 13.3133 10.839 13.6418 10.0407C13.7469 9.78536 13.6251 9.49315 13.3698 9.38806C13.1144 9.28296 12.8222 9.40478 12.7171 9.66014C12.4363 10.3425 12.0251 10.9745 11.5013 11.5074C10.5295 12.4963 9.16504 13.15 7.49998 13.15C4.05979 13.15 1.84998 10.3354 1.84998 7.49998Z",fill:"currentColor"})])}function Q(o,e){return d(),_("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[c("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.85355 2.14645C5.04882 2.34171 5.04882 2.65829 4.85355 2.85355L3.70711 4H9C11.4853 4 13.5 6.01472 13.5 8.5C13.5 10.9853 11.4853 13 9 13H5C4.72386 13 4.5 12.7761 4.5 12.5C4.5 12.2239 4.72386 12 5 12H9C10.933 12 12.5 10.433 12.5 8.5C12.5 6.567 10.933 5 9 5H3.70711L4.85355 6.14645C5.04882 6.34171 5.04882 6.65829 4.85355 6.85355C4.65829 7.04882 4.34171 7.04882 4.14645 6.85355L2.14645 4.85355C1.95118 4.65829 1.95118 4.34171 2.14645 4.14645L4.14645 2.14645C4.34171 1.95118 4.65829 1.95118 4.85355 2.14645Z",fill:"currentColor"})])}function W(o,e){return d(),_("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[c("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.5 1C5.22386 1 5 1.22386 5 1.5C5 1.77614 5.22386 2 5.5 2H9.5C9.77614 2 10 1.77614 10 1.5C10 1.22386 9.77614 1 9.5 1H5.5ZM3 3.5C3 3.22386 3.22386 3 3.5 3H5H10H11.5C11.7761 3 12 3.22386 12 3.5C12 3.77614 11.7761 4 11.5 4H11V12C11 12.5523 10.5523 13 10 13H5C4.44772 13 4 12.5523 4 12V4L3.5 4C3.22386 4 3 3.77614 3 3.5ZM5 4H10V12H5V4Z",fill:"currentColor"})])}const X={__name:"AlertDialog",props:{open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1}},emits:["update:open"],setup(o,{emit:e}){const i=q(o,e);return(m,u)=>(d(),p(t(R),N(M(t(i))),{default:s(()=>[f(m.$slots,"default")]),_:3},16))}},ee={__name:"AlertDialogContent",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(o,{emit:e}){const n=o,l=e,i=w(()=>{const{class:u,...x}=n;return x}),m=q(i,l);return(u,x)=>(d(),p(t(E),null,{default:s(()=>[a(t(K),{class:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),a(t(L),v(t(m),{class:t(h)("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n.class)}),{default:s(()=>[f(u.$slots,"default")]),_:3},16,["class"])]),_:3}))}},te={__name:"AlertDialogHeader",props:{class:{type:null,required:!1}},setup(o){const e=o;return(n,l)=>(d(),_("div",{class:B(t(h)("flex flex-col gap-y-2 text-center sm:text-left",e.class))},[f(n.$slots,"default")],2))}},se={__name:"AlertDialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(o){const e=o,n=w(()=>{const{class:l,...i}=e;return i});return(l,i)=>(d(),p(t(F),v(n.value,{class:t(h)("text-lg font-semibold",e.class)}),{default:s(()=>[f(l.$slots,"default")]),_:3},16,["class"]))}},ae={__name:"AlertDialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(o){const e=o,n=w(()=>{const{class:l,...i}=e;return i});return(l,i)=>(d(),p(t(O),v(n.value,{class:t(h)("text-sm text-muted-foreground",e.class)}),{default:s(()=>[f(l.$slots,"default")]),_:3},16,["class"]))}},oe={__name:"AlertDialogFooter",props:{class:{type:null,required:!1}},setup(o){const e=o;return(n,l)=>(d(),_("div",{class:B(t(h)("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-x-2",e.class))},[f(n.$slots,"default")],2))}},ne={__name:"AlertDialogAction",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(o){const e=o,n=w(()=>{const{class:l,...i}=e;return i});return(l,i)=>(d(),p(t(z),v(n.value,{class:t(h)(t(A)(),e.class)}),{default:s(()=>[f(l.$slots,"default")]),_:3},16,["class"]))}},le={__name:"AlertDialogCancel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(o){const e=o,n=w(()=>{const{class:l,...i}=e;return i});return(l,i)=>(d(),p(t(Z),v(n.value,{class:t(h)(t(A)({variant:"outline"}),"mt-2 sm:mt-0",e.class)}),{default:s(()=>[f(l.$slots,"default")]),_:3},16,["class"]))}},ie={props:{open:Boolean,routeName:String,method:String,id:[String,Number]},emits:["close"],methods:{handleRoute(){this.id&&this.routeName&&this.$inertia.visit(route(this.routeName,this.id),{method:this.method,preserveState:!1,preserveScroll:!0,onSuccess:()=>{this.$emit("close",!0)}})}}},V=Object.assign(ie,{__name:"DeleteConfirmation",setup(o){return(e,n)=>(d(),p(t(X),{open:o.open},{default:s(()=>[a(t(ee),null,{default:s(()=>[a(t(te),null,{default:s(()=>[e.$slots.title?(d(),p(t(se),{key:0},{default:s(()=>[f(e.$slots,"title")]),_:3})):H("",!0),a(t(ae),null,{default:s(()=>[f(e.$slots,"description")]),_:3})]),_:3}),a(t(oe),null,{default:s(()=>[a(t(le),{onClick:n[0]||(n[0]=l=>e.$emit("close",!0))},{default:s(()=>[r("Cancel")]),_:1}),a(t(ne),{class:"bg-red-600 hover:bg-red-500",onClick:e.handleRoute},{default:s(()=>[r("Continue")]),_:1},8,["onClick"])]),_:1})]),_:3})]),_:3},8,["open"]))}}),re=c("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},"Manage Schools",-1),de={class:"py-6"},ce={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-2"},ue={class:"grid grid-cols-1 2xl:grid-cols-2 gap-4"},pe={class:""},fe={class:""},me=c("div",{class:"grid grid-cols-1 2xl:grid-cols-3 gap-4 mb-1"},null,-1),_e=c("div",{class:"p-3"}," No Record Found ",-1),he={class:"flex justify-between"},ge={class:"flex space-x-2"},Ce=c("span",null,"Reset Password",-1),we=c("span",null,"Delete School",-1),ve=c("span",null,"Back",-1),ye={components:{DeleteConfirmation:V},data(){var o,e;return{params:{search:((o=this.$page.props.filters)==null?void 0:o.search)||"",category_id:((e=this.$page.props.filters)==null?void 0:e.category_id)||""},confirmation:{is_open:!1,id:"",route_name:"",method:"",title:"",description:""}}},methods:{search(){this.$inertia.get(this.route("schools"),this.params,{replace:!0,preserveState:!0})},deleteKey(o){this.confirmation.route_name="keys.destroy",this.confirmation.method="delete",this.confirmation.id=o,this.confirmation.is_open=!0,this.confirmation.title="Delete key",this.confirmation.description="Are you sure want to delete this key?"},ResetKeySwapCount(o){this.confirmation.route_name="keys.reset",this.confirmation.method="post",this.confirmation.id=o,this.confirmation.is_open=!0,this.confirmation.title="Reset Key's Swap count",this.confirmation.description="Are you sure want to reset this key's swap count?"},deleteSchool(){this.confirmation.route_name="schools.destroy",this.confirmation.method="delete",this.confirmation.id=this.$page.props.info.id,this.confirmation.is_open=!0,this.confirmation.title="Delete School",this.confirmation.description="Are you sure want to delete this school? All information will be deleted and this action is irreversible."},resetPassword(){this.confirmation.route_name="schools.reset_password",this.confirmation.method="post",this.confirmation.id=this.$page.props.info.id,this.confirmation.is_open=!0,this.confirmation.title="Reset Password",this.confirmation.description="Are you sure want to reset password? New password will be sent to owner's email."}}},Se=Object.assign(ye,{__name:"Edit",setup(o){return(e,n)=>{const l=k("Label"),i=k("Input"),m=k("Button");return d(),_(S,null,[a(t(j),{title:"Manage Schools"}),a(P,null,{header:s(()=>[re]),default:s(()=>[c("div",de,[c("div",ce,[a(b,null,{title:s(()=>[r("School Information")]),content:s(()=>[c("div",ue,[c("div",pe,[a(l,null,{default:s(()=>[r("Name")]),_:1}),a(i,{disabled:"",modelValue:e.$page.props.info.name,"onUpdate:modelValue":n[0]||(n[0]=u=>e.$page.props.info.name=u)},null,8,["modelValue"])]),c("div",fe,[a(l,null,{default:s(()=>[r("Email")]),_:1}),a(i,{disabled:"",modelValue:e.$page.props.info.email,"onUpdate:modelValue":n[1]||(n[1]=u=>e.$page.props.info.email=u)},null,8,["modelValue"])])])]),_:1}),a(b,null,{title:s(()=>[r("Toddler App Keys")]),content:s(()=>[me,a(t(Y),null,{default:s(()=>[a(t(T),{class:"bg-gray-100"},{default:s(()=>[a(t(D),null,{default:s(()=>[a(t($),{class:"whitespace-nowrap pl-10"},{default:s(()=>[r("Kit")]),_:1}),a(t($),{class:"whitespace-nowrap"},{default:s(()=>[r("Expiry Date")]),_:1}),a(t($),{class:"whitespace-nowrap text-center"},{default:s(()=>[r("Swap Count")]),_:1}),a(t($),{class:"whitespace-nowrap text-center"},{default:s(()=>[r("Action")]),_:1})]),_:1})]),_:1}),a(t(U),null,{default:s(()=>[e.$page.props.keys.data.length?H("",!0):(d(),p(t(D),{key:0},{default:s(()=>[a(t(C),{class:"text-center",colspan:"10"},{default:s(()=>[_e]),_:1})]),_:1})),(d(!0),_(S,null,I(e.$page.props.keys.data,(u,x)=>(d(),p(t(D),null,{default:s(()=>[a(t(C),{class:"whitespace-nowrap pl-10"},{default:s(()=>{var y;return[r(g((y=u.kit_ref)==null?void 0:y.name),1)]}),_:2},1024),a(t(C),{class:"whitespace-nowrap"},{default:s(()=>[r(g(t(G)(u.expiry_date).format("DD MMM YYYY")),1)]),_:2},1024),a(t(C),{class:"whitespace-nowrap text-center"},{default:s(()=>[r(g(u.swap_count),1)]),_:2},1024),a(t(C),{class:"whitespace-nowrap text-center space-x-2"},{default:s(()=>[a(m,{variant:"outline",onClick:y=>e.ResetKeySwapCount(u.id)},{default:s(()=>[r("Reset Swap Count")]),_:2},1032,["onClick"]),a(m,{variant:"destructive",onClick:y=>e.deleteKey(u.id)},{default:s(()=>[r("Delete")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})]),_:1}),a(b,null,{content:s(()=>[c("div",he,[c("div",ge,[a(m,{variant:"outline",class:"space-x-2",onClick:e.resetPassword},{default:s(()=>[a(t(J),{class:"h-4 w-4"}),Ce]),_:1},8,["onClick"]),a(m,{variant:"destructive",onClick:e.deleteSchool},{default:s(()=>[a(t(W),{class:"h-4 w-4"}),we]),_:1},8,["onClick"])]),a(m,{variant:"outline",class:"space-x-1",onClick:n[2]||(n[2]=u=>e.$inertia.get(e.route("schools")))},{default:s(()=>[a(t(Q),{class:"h-4 w-4"}),ve]),_:1})])]),_:1})])])]),_:1}),a(V,{open:e.confirmation.is_open,onClose:n[3]||(n[3]=u=>e.confirmation.is_open=!1),routeName:e.confirmation.route_name,id:e.confirmation.id,method:e.confirmation.method},{title:s(()=>[r(g(e.confirmation.title),1)]),description:s(()=>[r(g(e.confirmation.description),1)]),_:1},8,["open","routeName","id","method"])],64)}}});export{Se as default};
