import{r as p,o as u,f,b as t,a as o,w as s,C as g,F as y,d as l,g as _,t as c}from"./app-AZ-p8ftd.js";import{_ as d}from"./InputError-BHfxtrSH.js";import{P as v}from"./PrimaryButton-BtEbghEh.js";import{g as h}from"./DeleteConfirmation-BQKVW9pE.js";const V=t("header",null,[t("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"},"School Information"),t("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Update your school information and email address. ")],-1),C={class:"mt-6 space-y-6"},$={class:"flex items-center gap-4"},k={key:0,class:"text-sm text-gray-600 dark:text-gray-400"},S={class:"text-red-500"},b={components:{DeleteConfirmation:h},data(){var r,e,a;return{form:{name:((r=this.$page.props.school)==null?void 0:r.name)||"",code:((e=this.$page.props.school)==null?void 0:e.code)||"",email:((a=this.$page.props.school)==null?void 0:a.email)||""},confirmation:{is_open:!1,id:"",route_name:"profile.update",params:"",method:"patch",title:"Warning",description:"Changing your email will log you out to ensure account security. Are you sure?"}}},methods:{handleSaveClick(){this.form.email&&this.form.email!==this.$page.props.auth.user.user_email&&this.form.email&&this.isEmailValid(this.form.email)?(this.confirmation.params=this.form,this.confirmation.is_open=!0):this.$inertia.patch(this.route("profile.update"),this.form)},isEmailValid(r){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)}}},E=Object.assign(b,{__name:"UpdateProfileInformationForm",setup(r){return(e,a)=>{const n=p("Label"),m=p("Input");return u(),f(y,null,[t("section",null,[V,t("div",C,[t("div",null,[o(n,{for:"name"},{default:s(()=>[l("School Name")]),_:1}),o(m,{id:"name",type:"text",modelValue:e.form.name,"onUpdate:modelValue":a[0]||(a[0]=i=>e.form.name=i),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),o(d,{class:"mt-2",message:e.$page.props.errors.name},null,8,["message"])]),t("div",null,[o(n,{for:"code"},{default:s(()=>[l("School Code")]),_:1}),o(m,{id:"code",type:"text",modelValue:e.form.code,"onUpdate:modelValue":a[1]||(a[1]=i=>e.form.code=i),required:"",autofocus:"",autocomplete:"code",disabled:""},null,8,["modelValue"]),o(d,{class:"mt-2",message:e.$page.props.errors.code},null,8,["message"])]),t("div",null,[o(n,{for:"email"},{default:s(()=>[l("School Email")]),_:1}),o(m,{id:"email",type:"email",modelValue:e.form.email,"onUpdate:modelValue":a[2]||(a[2]=i=>e.form.email=i),required:"",autofocus:"",autocomplete:"email"},null,8,["modelValue"]),o(d,{class:"mt-2",message:e.$page.props.errors.email},null,8,["message"])]),t("div",$,[o(v,{disabled:e.form.processing,onClick:e.handleSaveClick},{default:s(()=>[l("Save")]),_:1},8,["disabled","onClick"]),o(g,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:s(()=>[e.form.recentlySuccessful?(u(),f("p",k,"Saved.")):_("",!0)]),_:1})])])]),o(h,{open:e.confirmation.is_open,onClose:a[3]||(a[3]=i=>e.confirmation.is_open=!1),routeName:e.confirmation.route_name,id:e.confirmation.id,method:e.confirmation.method,params:e.confirmation.params},{title:s(()=>[t("span",S,c(e.confirmation.title),1)]),description:s(()=>[l(c(e.confirmation.description),1)]),_:1},8,["open","routeName","id","method","params"])],64)}}});export{E as default};
